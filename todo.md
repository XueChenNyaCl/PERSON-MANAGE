# 学校综合管理系统开发计划

## 一、环境配置准备

### 前端环境
- [ ] 安装 Node.js (v16+) 和 npm/yarn
- [ ] 安装 Vite (Vue 3 构建工具)
- [ ] 安装 Vue 3 + TypeScript 依赖
- [ ] 安装 Pinia (状态管理)
- [ ] 安装 Vue Router (路由管理)
- [ ] 安装 Axios (HTTP 客户端)

### 后端环境
- [ ] 安装 Rust (v1.60+)
- [ ] 安装 Cargo (Rust 包管理器)
- [ ] 安装 PostgreSQL 数据库
- [ ] 安装 sqlx-cli (数据库迁移工具)
- [ ] 配置 .env 文件 (数据库连接、JWT 密钥等)

### 开发工具
- [ ] 安装 VS Code 或其他 IDE
- [ ] 安装 Git
- [ ] 安装 Docker (可选，用于部署)

## 二、开发顺序（分阶段）

### 第一阶段：核心基础与最小可用产品（MVP）
**目标：搭建前后端基础框架，实现人员管理、考勤、评分、通知基本功能，能在一个班级内试用。**

1. **项目初始化**
   - [ ] 创建 Vue + TypeScript 前端项目
   - [ ] 创建 Rust + Axum 后端项目
   - [ ] 配置项目结构和依赖

2. **数据库设计**
   - [ ] 设计用户、角色、权限表
   - [ ] 设计人员（学生/教职工）表
   - [ ] 设计考勤表
   - [ ] 设计分数表
   - [ ] 设计通知表
   - [ ] 创建数据库迁移文件

3. **后端核心功能**
   - [ ] 实现用户认证（JWT）
   - [ ] 实现基础 CRUD API（人员、班级）
   - [ ] 实现考勤记录 API
   - [ ] 实现分数记录和聚合 API
   - [ ] 实现通知发布 API
   - [ ] 实现 WebSocket 基础（分数变化推送）

4. **前端核心功能**
   - [ ] 搭建登录页
   - [ ] 搭建基础布局（侧栏、头部）
   - [ ] 实现人员管理页面（列表、新增、编辑）
   - [ ] 实现考勤管理页面
   - [ ] 实现评分看板页面
   - [ ] 实现通知列表页面
   - [ ] 实现家长端简单版（Web 页面，适配手机）

### 第二阶段：插件化架构与核心插件完善
**目标：实现插件化框架，将各模块拆分为插件，完善评分体系、申诉机制、消费管理。**

1. **插件化架构**
   - [ ] 定义插件接口（Plugin trait）
   - [ ] 实现插件管理器（动态加载/卸载）
   - [ ] 将现有模块重构为独立插件

2. **核心插件完善**
   - [ ] 评分规则引擎（自定义加减分规则）
   - [ ] 申诉机制（提交申诉、审核）
   - [ ] 消费管理插件（消费记录、余额查询）
   - [ ] 评选功能插件（投票、结果统计）
   - [ ] 搜索优化（全文搜索、高级筛选）

### 第三阶段：多端适配与高级功能
**目标：开发一体机端、优化家长端体验，增加校历、活动插件，完善事件驱动。**

1. **多端适配**
   - [ ] 开发一体机端（班级展示、学生自助签到）
   - [ ] 优化家长端（推送通知、消费充值）

2. **高级功能**
   - [ ] 校历插件（学期、周次、节假日）
   - [ ] 活动插件（运动会/比赛结果录入）
   - [ ] 事件驱动完善（考勤、活动与评分联动）
   - [ ] 数据统计看板（全校数据概览）

### 第四阶段：测试、部署与文档
**目标：系统测试，编写文档，准备上线。**

1. **测试**
   - [ ] 后端单元测试与集成测试
   - [ ] 前端组件测试
   - [ ] 性能测试与优化

2. **部署**
   - [ ] Docker 化部署
   - [ ] 配置 docker-compose.yml
   - [ ] 编写部署脚本

3. **文档**
   - [ ] 编写 API 文档
   - [ ] 编写插件开发指南
   - [ ] 编写用户手册
   - [ ] 编写管理员部署指南

## 三、开发优先级

### 最高优先级（必须首先完成）
1. 环境配置准备
2. 项目初始化与数据库设计
3. 后端核心 API（认证、人员管理）
4. 前端基础布局与登录页

### 次高优先级
1. 考勤管理功能
2. 评分体系基础功能
3. 通知公告功能
4. 家长端简单版

### 中等优先级
1. 插件化架构实现
2. 申诉机制
3. 消费管理
4. 评选功能

### 低优先级（后期完善）
1. 一体机端开发
2. 校历与活动插件
3. 数据统计看板
4. 完整文档编写

## 四、关键里程碑

1. **里程碑 1：基础框架搭建完成**
   - 前后端项目初始化
   - 数据库设计与迁移
   - 基础认证与布局

2. **里程碑 2：MVP 功能完成**
   - 人员管理、考勤、评分、通知基本功能实现
   - 家长端简单版可用
   - 能在一个班级内试用

3. **里程碑 3：插件化架构完成**
   - 核心模块插件化
   - 申诉、消费、评选功能完善

4. **里程碑 4：多端适配完成**
   - 一体机端开发完成
   - 家长端优化完成
   - 校历与活动插件实现

5. **里程碑 5：系统上线**
   - 完整测试与优化
   - 部署完成
   - 文档编写完成
